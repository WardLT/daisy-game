<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>The Daisy Game!</title>
</head>

<body>

<!-- Begin page content -->
<main role="main" class="container">
    <h1 class="mt-5">The Daisy Game</h1>
    <p class="lead">Embark was able to catch the breed(s) of all of Daisy’s ancestors, determining a fraction of Daisy’s
        heritage to each breed. Your task is to guess what those breeds are. Assign a percentage below to guess what
        breeds Daisy is a perfect mix of.</p>

    <h2>The Rules</h2>

    <p>We have a few different awards we are giving out. All, except the bonus game, are scored off how you assign
        Daisy's breed.</p>

    <h4>Best Match</h4>

    <p>The big prize will be denoted based on the overlap between your breed distribution and the true one. We will sum
        the difference between your guess and Daisy’s actual fraction for all of the breeds then give you a score
        reflecting your disagreement. Lowest score wins the Grand Master of the Daisy Game prize.</p>

    <p>Amanda’s supernerd twin based this metric on the most popular way of describing differences between probability
        distributions: <a href="https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence">Kullback–Leibler
            divergence</a>. If you disagree with this approach, take it up with statisticians.</p>

    <h4>Most Breed(s) Correct</h4>

    <p>A simpler game: just get the breed(s) of Daisy correct. Gain one point for correctly guessing a breed, and lose
        one for guessing a breed she is not. The person(s) with the most points (assuredly, one of you will argue a way
        that favors yourself) win the Coward Knowitall Prize.</p>

    <h4>Most Red-Herrings Fallen For</h4>
    <p>The list of breeds contains far more breeds than make up our Daisy (or does it!?). Fall for the most of wrong
        ones, and you are the Grand Loser of the Game.</p>


    <h2>The Game!</h2>

    {% with messages = get_flashed_messages(category_filter=["error"]) %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-danger" role="alert">
        {{message}}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <p>Are you ready!?</p>

    <form class="row gy-2 gx-3 align-items-center" action="/" method="post">

        <input type="text" id="name" name="name" placeholder="Your name" value="{{session['name']}}" required/>

        <h4>Part 1: Assigning Breeds</h4>

        <p>Assign each breed a percentage (values can be between 0 and 100)
            corresponding to how much of Daisy belongs to it.</p>


        {% for breed in breeds %}
        {% set tag = breed | replace(' ', '_') -%}
        <div class="col-sm-3">
            <label class="my-1 mr-2">{{breed}}</label>
            <input type="number" class="form-control" name="{{tag}}" id="{{tag}}" min="0" max="100" value="0">
        </div>
        {% endfor %}


        <h4>Part 2: Make up a Breed</h4>

        <p>Daisy is her own special dog, and she needs a breed name that captures our special she truly is.
            For example, Daisy could be a “Many-toed Squeaker” or a “Fluffly Fishchaser.”
            Come up with a breed name and if it is the crowd favorite, your true understanding of Daisy will overshadow
            all - though you will have to contend with the Grand Master.
        </p>

        <input class="form-control" type="text" placeholder="Snaggletoothed Catdog" id="newbreed" name="newbreed"
               value="{{session['newbreed']}}" required>

        <button type="submit" class="btn btn-primary mb-3">Submit</button>

    </form>


</main>
</body>
</html>
